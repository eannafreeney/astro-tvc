---
import { slugify } from '../../utils/common';
import {AddToCartForm, Breadcrumb} from '../Product'

const {shopifyProduct, airtableData} = Astro.props;

console.log(airtableData);


const variants = shopifyProduct?.variants.nodes;

  // const hasPrint = !!print_image;
  // const isFunding = categories.includes("Funding");


---
    <section class="mt-4 container">
      <Breadcrumb data={airtableData} />
      <div>
        <div >{airtableData.title}</div>
        <ul >
          {airtableData.artist.map((artist) => (
            <a href={`/artists/${artist}`}>
              <li class="">{artist}</li>
            </a>
          ))}
        </ul>
        <!-- <div>{getPrice(categories, price, comparePrice)}</div> -->
      </div>
      <AddToCartForm client:load variants={variants} />
      <div class="hidden md:block">
        <div>{airtableData.description}</div>
        <div>{airtableData.bio}</div>
      </div>
      <ul class="mb-4">
        <li class="text-gray-500 text-sm">
          {airtableData.pages} pages, {airtableData.size}
        </li>
        <li class="text-gray-500 text-sm">{airtableData.format}</li>
        <li class="text-gray-500 text-sm">ISBN {shopifyProduct.ISBN}</li>
        <li class="text-gray-500 text-sm">
          Limited Edition of {airtableData.edition_size}
        </li>
        <li class="text-gray-500 text-sm">{airtableData.SKU}</li>
      </ul>
      <div class="flex flex-wrap gap-1">
        {airtableData.tags.map((tag) => (
          <a
            href={`/tag/${slugify(tag)}`}
            class="border border-primary-100 rounded py-1 px-2 text-primary-100"
          >
            # {tag}
          </a>
        ))}
      </div>
    </section>

